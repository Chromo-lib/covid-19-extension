!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(n=n||self).covid=e()}(this,(function(){"use strict";async function n(n="tunisia"){try{let e=await fetch("https://corona.lmao.ninja/countries/"+n);return await e.json()}catch(n){return n.message}}function e(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}function t(n,e){return`\n    <h3 class="m-0">${n}</h3>\n    <small class="mb-10">${new Date(e).toString().slice(0,15)}</small> \n    <p>We hope you are staying healthy and safe.</p>\n  `}function s(n){return`   \n  <div class="details">\n\n    <div class="d-flex-column">\n      <img src=${n.countryInfo.flag} alt="..." class="mb-5"  />\n      <span class="ellipsis scale">${n.country}</span>\n    </div>\n\n    <div class="d-flex-column">\n      <span class="cl-blue-sky">Total Cases</span>\n      <span class="scale">${e(n.cases)}</span>\n    </div>\n\n    <div class="d-flex-column">\n      <span class="cl-blue-sky">total deaths</span>\n      <span class="scale">${e(n.deaths)}</span>\n    </div>\n\n    <div class="d-flex-column">\n      <span class="cl-blue-sky">today Cases</span>\n      <span class="scale">${e(n.todayCases)}</span>\n    </div>\n\n    <div class="d-flex-column">\n      <span class="cl-blue-sky">today Deaths</span>\n      <span class="scale">${e(n.todayDeaths)}</span>\n    </div>\n\n    <div class="d-flex-column">\n      <span class="cl-blue-sky">Total recovered</span>\n      <span class="scale">${e(n.recovered)}</span>\n    </div>\n      \n    </div>`}return(()=>{!function(){const n=document.querySelectorAll(".tabs>button"),e=document.querySelectorAll(".tabs-items>ul");let t="",s=document.getElementById("btn-load-more");n.forEach(n=>{n.addEventListener("click",()=>{t=n.id,e.forEach(n=>{n.style.display="none";let e=n.getAttribute("data-id");e===t&&(s.style.display="countries"===e?"block":"none",n.style.display="block")})})})}(),function(){let n=document.getElementById("set-country"),e=document.querySelector(".btn-save"),t=document.querySelector(".btn-close");function s(){let n=document.querySelector(".input-container");n.classList.contains("d-flex-col-center")?(n.classList.remove("d-flex-col-center"),n.classList.add("dip-none"),chrome.storage.sync.get(["country"],(function(n){console.log("Value currently is "+n.country)}))):(n.classList.remove("dip-none"),n.classList.add("d-flex-col-center"))}e.addEventListener("click",(function(){let n=document.getElementById("input-country");chrome.storage.sync.set({country:n.value},()=>{})}),!1),t&&t.addEventListener("click",s,!1),n&&n.addEventListener("click",s,!1)}();let e="tunisia",c=[],a=0,l=document.getElementById("btn-load-more");async function o(){let c=await n(e),a=document.getElementById("list");a.innerHTML=t(c.country,c.updated),a.innerHTML+=s(c)}async function d(){a+=10;try{c=await n("");let e=document.getElementById("list-d");e.innerHTML=t("All countries",c[0].updated),c.sort((n,e)=>+e.cases-+n.cases).slice(0,a).forEach(n=>{e.innerHTML+=s(n)})}catch(n){console.log(n)}}chrome.storage.sync.get(["country"],async n=>{n&&n.country&&(e=n.country),await o()}),chrome.storage.onChanged.addListener(async n=>{await o(n.country.newValue)}),document.getElementById("countries").addEventListener("click",d,!1),l&&l.addEventListener("click",d,!1)})()}));
